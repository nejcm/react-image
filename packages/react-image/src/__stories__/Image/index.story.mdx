import {Meta, Story, Preview, Props} from '@storybook/addon-docs/blocks';
import {Image} from '../../index.js';

<Meta title="Image" component={Image} />

# Image

<blockquote>Image component.</blockquote>

<Preview>
  <Story name="Usage">
    <div>
      <h2>Check the docs.</h2>
      <Image
        src="https://via.placeholder.com/1024x600.jpg?text=react-image"
        maxWidth={500}
        alt="Placeholder"
      />
    </div>
  </Story>
</Preview>

## Props

<Props of={Image} />

## Examples

<br />

### With fallback

<Preview>
  <Image
    src="https://wrong-url.com"
    alt="Placeholder"
    fallback="https://via.placeholder.com/1600x600.jpg?text=fallback-1600x600"
    width="100%"
    height="auto"
  />
</Preview>

### With srcset

Resize browser window and refresh page to see effect.

<Preview>
  <Image
    src="https://via.placeholder.com/1600x600.jpg?text=1600x600"
    alt="Placeholder"
    srcset={[
      {
        src: 'https://via.placeholder.com/480x200.jpg?text=480x200',
        condition: '480w',
      },
      {
        src: 'https://via.placeholder.com/768x300.jpg?text=768x300',
        condition: '768w',
      },
      {
        src: 'https://via.placeholder.com/1024x400.jpg?text=1024x400',
        condition: '1024w',
      },
      {
        src: 'https://via.placeholder.com/1600x600.jpg?text=1600x600',
        condition: '1600w',
      },
    ]}
    width="100%"
    height="auto"
  />
</Preview>

### With sizes

Resize browser window and refresh page to see effect.

<Preview>
  <Image
    src="https://via.placeholder.com/1600x600.jpg?text=1600x600"
    alt="Placeholder"
    srcset={[
      {
        src: 'https://via.placeholder.com/480x200.jpg?text=480x200',
        condition: '480w',
      },
      {
        src: 'https://via.placeholder.com/768x300.jpg?text=768x300',
        condition: '768w',
      },
      {
        src: 'https://via.placeholder.com/1024x400.jpg?text=1024x400',
        condition: '1024w',
      },
      {
        src: 'https://via.placeholder.com/1600x600.jpg?text=1600x600',
        condition: '1600w',
      },
    ]}
    sizes={[
      {
        size: '768px',
        condition: '(min-width: 1024px)',
      },
      {
        size: '1024px',
        condition: '(min-width: 768px)',
      },
      {
        size: '480px',
        condition: '(max-width: 767px)',
      },
    ]}
    width="100%"
    height="auto"
  />
</Preview>

### Hide on error

Hide image in case of error.

<Preview>
  <Image src="https://wrong-url.com" alt="Placeholder" />
</Preview>

### Loader

Show loader.

<Preview>
  <Image
    loader
    src="placeholder.png"
    alt="Placeholder"
    width={180}
    minWidth={180}
    height={150}
    minHeight={150}
    onError={() => {
      /* Overriding just for demonstration purposes */
    }}
    onLoad={() => {
      /* Overriding just for demonstration purposes */
    }}
  />
</Preview>

### Customized loader

Custom loader can be applied through styles. Bellow is only one of the possible
ways how to apply it. On image load the element receives a `loaded` class so the
styles can be removed.

<Preview>
  <Image
    src="placeholder.png"
    alt="Placeholder"
    className="custom-loader"
    style={{
      backgroundImage:
        'url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJMNCIgdmlld0JveD0iMCAwIDIyIDIyIiB4PSIwcHgiIHk9IjBweCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnhtbD0iaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIiB4bWw6c3BhY2U9InByZXNlcnZlIiB2ZXJzaW9uPSIxLjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDAgMCI+PGNpcmNsZSBmaWxsPSIjOTk5IiBzdHJva2U9Im5vbmUiIGN4PSIyIiBjeT0iMTEiIHI9IjIiPjxhbmltYXRlIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjFzIiBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBiZWdpbj0iMC4xIiB2YWx1ZXM9IjA7MTswIi8+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSIjOTk5IiBzdHJva2U9Im5vbmUiIGN4PSIxMCIgY3k9IjExIiByPSIyIj48YW5pbWF0ZSByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgYmVnaW49IjAuMiIgdmFsdWVzPSIwOzE7MCIvPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0iIzk5OSIgc3Ryb2tlPSJub25lIiBjeD0iMTgiIGN5PSIxMSIgcj0iMiI+PGFuaW1hdGUgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMXMiIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGJlZ2luPSIwLjMiIHZhbHVlcz0iMDsxOzAiLz48L2NpcmNsZT48L3N2Zz4=)',
      backgroundSize: 50,
      backgroundColor: '#f9f9f9',
      backgroundPosition: '50%',
      backgroundRepeat: 'no-repeat',
    }}
    width={180}
    minWidth={180}
    height={150}
    minHeight={150}
    onError={() => {
      /* Overriding just for demonstration purposes */
      console.log('Error');
    }}
    onLoad={() => {
      /* Overriding just for demonstration purposes */
      console.log('Load');
    }}
  />
</Preview>

### Lazy load image

<Preview>
  <Image
    loader
    src="https://via.placeholder.com/1920x500.jpg?text=react-image"
    maxWidth={1000}
    width="100%"
    height="auto"
    alt="Placeholder"
    lazy={true}
  />
</Preview>
